(this.webpackJsonpsweeper3=this.webpackJsonpsweeper3||[]).push([[0],{11:function(e,n,t){},13:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),c=t(6),o=t.n(c),u=t(4),s=t(2),i=(t(11),t(0));function l(e){return Object(r.useEffect)((function(){if(e.running){var n=setInterval(e.callback,1e3);return function(){return clearInterval(n)}}}),[e.running]),Object(i.jsx)("span",{className:"header-span timer",children:e.secondsElapsed})}function f(e){var n=e.mines,t=e.revealed,r=e.flags,a=e.current,c=e.width,o=e.height,u=e.gameState,s=d(a,n),l=d(a,t),f=d(a,r);if(l&&!s){var b=h(c,o,a,n).length,j=function(e){if(0===e)return"zero";if(1===e)return"one";if(2===e)return"two";if(3===e)return"three";if(4===e)return"four";if(5===e)return"five";if(6===e)return"six";if(7===e)return"seven";if(8===e)return"eight"}(b);return Object(i.jsx)("button",{className:"cell-button "+j+" revealed",onMouseUp:e.onMouseUp,children:b>0?b:""},""+a.x+a.y)}return l&&s?Object(i.jsx)("button",{className:"cell-button revealed-mine",onMouseUp:e.onMouseUp,children:Object(i.jsx)("span",{className:"cell-span",children:"\ud83d\udca3"})},""+a.x+a.y):!l&&s&&2===u?Object(i.jsx)("button",{className:"cell-button",onMouseUp:e.onMouseUp,children:Object(i.jsx)("span",{className:"cell-span",children:"\ud83d\udca3"})},""+a.x+a.y):l||f?f&&!s&&2===u?Object(i.jsx)("button",{className:"cell-button",onMouseUp:e.onMouseUp,children:Object(i.jsx)("span",{className:"cell-span",children:"\u274c"})},""+a.x+a.y):!l&&f?Object(i.jsx)("button",{className:"cell-button",onMouseUp:e.onMouseUp,children:Object(i.jsx)("span",{className:"cell-span",children:"\ud83d\udea9"})},""+a.x+a.y):void 0:Object(i.jsx)("button",{className:"cell-button",onMouseUp:e.onMouseUp,children:" "},""+a.x+a.y)}function b(e){var n="";return 2===e.gameState?n="\ud83d\ude2d":0===e.gameState?n="\ud83d\ude42":1===e.gameState&&(n="\ud83e\udd73"),Object(i.jsx)("button",{className:"reset-button",onClick:e.onClick,children:n})}function h(e,n,t,r){var a=j(e,n,t);return r.filter((function(e){return d(e,a)}))}function j(e,n,t){var r=t.x,a=t.y;return[new v(r+1,a+1),new v(r+1,a),new v(r+1,a-1),new v(r,a+1),new v(r,a-1),new v(r-1,a+1),new v(r-1,a),new v(r-1,a-1)].filter((function(t){return t.x>=0&&t.x<e&&t.y>=0&&t.y<n}))}function p(e,n){return e.x===n.x&&e.y===n.y}function d(e,n){var t,r=Object(u.a)(n);try{for(r.s();!(t=r.n()).done;){if(p(t.value,e))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}function v(e,n){this.x=e,this.y=n}function x(e,n,t,r,a,c){return c.concat(O(e,n,t,r,a,c))}function O(e,n,t,r,a,c){var o=[];if(!d(t,c)&&!d(t,r)&&(o.push(t),0===h(e,n,t,a).length&&!d(t,a))){var s,i=Object(u.a)(j(e,n,t));try{for(i.s();!(s=i.n()).done;){var l=O(e,n,s.value,r,a,c.concat(o));Array.prototype.push.apply(o,l)}}catch(f){i.e(f)}finally{i.f()}}return o}var m=function(e){var n=e.height,t=e.width,a=e.bombCount,c=[],o=Object(r.useState)([]),m=Object(s.a)(o,2),w=m[0],g=m[1],y=Object(r.useState)([]),M=Object(s.a)(y,2),N=M[0],U=M[1],S=Object(r.useState)([]),k=Object(s.a)(S,2),D=k[0],C=k[1],E=Object(r.useState)(Date.now()),I=Object(s.a)(E,2),J=I[0],P=I[1],z=Object(r.useState)(Date.now()),A=Object(s.a)(z,2),B=A[0],q=A[1];function F(e,r){return function(c){if(c.preventDefault(),c.stopPropagation(),0===G()){var o=new v(e,r);if(0===c.button){if(0===N.length){var u=function(e,n,t,r){var a=[],c=[],o=j(e,n,r);o.push(r);for(var u=0;u<e;u++)for(var s=0;s<n;s++)c.push(new v(u,s));c=c.filter((function(e){return!d(e,o)}));for(var i=0;i<t;i++){var l=Math.floor(Math.random()*c.length),f=c.splice(l,1)[0];a.push(f)}return a}(t,n,a,o),s=x(t,n,o,w,u,D);return U(u),void C(s)}if(d(o,D))return;var i=x(t,n,o,w,N,D);C(i)}else if(1===c.button){var l=function(e,n,t,r,a,c){var o=h(e,n,t,r),u=h(e,n,t,a);if(d(t,c)&&o.length>=u.length){return j(e,n,t).reduce((function(t,c){return t.concat(O(e,n,c,r,a,t))}),c)}return c.slice()}(t,n,o,w,N,D);C(l)}else if(2===c.button){var f=function(e,n,t){if(d(e,t))return n.slice();return d(e,n)?n.filter((function(n){return!p(n,e)})):n.concat([e])}(o,w,D);g(f)}}}}function G(){var e,r=Object(u.a)(N);try{for(r.s();!(e=r.n()).done;){if(d(e.value,D))return 2}}catch(c){r.e(c)}finally{r.f()}return D.length===t*n-a?1:0}for(var H=G(),K=0;K<n;K++){for(var L=[],Q=0;Q<t;Q++)L.push(Object(i.jsx)(f,{current:new v(Q,K),mines:N,revealed:D,flags:w,width:t,height:n,gameState:H,onMouseUp:F(Q,K)},""+Q+K));c.push(Object(i.jsx)("div",{className:"row",children:L},K))}return Object(i.jsxs)("div",{className:"minesweeper",onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},children:[Object(i.jsxs)("div",{className:"minesweeper-header",children:[Object(i.jsx)("span",{className:"header-span bomb-counter",children:a-w.length}),Object(i.jsx)(b,{onClick:function(){g([]),U([]),C([]),P(Date.now()),q(Date.now())},gameState:H}),Object(i.jsx)(l,{callback:function(){return q(Date.now())},running:0===H,secondsElapsed:Math.floor((B-J)/1e3)})]}),c]})};o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(m,{width:30,height:16,bombCount:99})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.fe1445a1.chunk.js.map